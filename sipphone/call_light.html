<!DOCTYPE html>
<html><!-- head --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>sip phone</title>
    <script src="SIPml-api.js" type="text/javascript"> </script>
	<style type="text/css">
        #btnHangUp{
			width:60px;
			height:60px;
			min-height:60px;
			border:0px;
			border-left-style:solid;
			background:url(../images/no_bell.png) no-repeat;
		}
		#btnCall{
		display:none;
		}
    </style>
<script type="text/javascript" src="call_light.js"></script>
<script type="text/javascript" src="../inc/jquery-1.7.1.js"></script>
<script>
function TestFrame(val){
	//alert('phone = '+val);
}
function btnCallFrameClick(){
	document.getElementById("btnCall").click();
}
function btnHangUpFrameClick(){
	//document.getElementById("btnHangUp").click();
}
function telNowStatus(){
	//console.log(document.getElementById("txtRegStatus").innerHTML);
	if(document.getElementById("txtRegStatus").innerHTML=='<i>Connected</i>'){
		return 1;
	}
	else{
		return 0;
	}
}
function curentCallStatus(){
	return txtCallStatus.innerHTML; 
	//return "work !"; 
}
function InitFrameFields(VnutPhone, ROOT_ID, FSW_IP){
	txtDisplayName.value = VnutPhone;
	//alert(VnutPhone);
	txtPrivateIdentity.value = VnutPhone;
    txtOperID.value = ROOT_ID;
    txtFswIP.value = FSW_IP;
	//console.log("ROOT_ID = "+txtOperID.value);
    txtPublicIdentity.value = "sip:"+VnutPhone+"@"+FSW_IP;
    txtPassword.value = "123456";
    txtRealm.value = FSW_IP;
	sipRegister();
	txtRegStatus.innerHTML = '<b>Connected</b>';
}

// FRODO1
function OperCall(){
	var ROOT_ID = txtOperID.value;
	var RES_TYPE = 1;
	$.post("frodo.php", {ROOT_ID: ROOT_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}
function OperNabor(){
	var ROOT_ID = txtOperID.value;
	var RES_TYPE = 2;
	$.post("frodo.php", {ROOT_ID: ROOT_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}
function OperSama(){
	var ROOT_ID = txtOperID.value;
	var RES_TYPE = 3;
	$.post("frodo.php", {ROOT_ID: ROOT_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}
function OperClient(){
	var ROOT_ID = txtOperID.value;
	var RES_TYPE = 4;
	$.post("frodo.php", {ROOT_ID: ROOT_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}

// FRODO2
function UserIDCall(U_ID){
	txtUserID.value = U_ID;
}
function OperContact(){
	var ROOT_ID = txtOperID.value;
	var U_ID = txtUserID.value;
	var RES_TYPE = 1;
	//console.log('Contact');
	$.post("frodo2.php", {ROOT_ID: ROOT_ID, U_ID: U_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}
function OperMore9(){
	var ROOT_ID = txtOperID.value;
	var U_ID = txtUserID.value;
	var RES_TYPE = 2;
	//console.log('More9');
	$.post("frodo2.php", {ROOT_ID: ROOT_ID, U_ID: U_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}
function OperEM(){
	var ROOT_ID = txtOperID.value;
	var U_ID = txtUserID.value;
	var RES_TYPE = 3;
	//console.log('EM');
	$.post("frodo2.php", {ROOT_ID: ROOT_ID, U_ID: U_ID, RES_TYPE: RES_TYPE}, 
		function(data){
			//alert(data);
			//var obj = jQuery.parseJSON(data);
			//console.log(data);
		});
}

</script></head>
<body style="cursor: default;" bgcolor="#F5DDED">
    
                
				
	
     
      
     <div class="btn-group" style="float:left;">
                                    <input type="button" id="btnHangUp" style="margin:-15px 10px 0px 0px; vertical-align:middle; height: 100%; cursor:pointer;" class="btn btn-primary" value=" " onClick="sipHangUp();" disabled="">
     </div>
	 <div class="btn-group" style="float:left;">
	 <button id="btnCall" class="btn btn-primary" data-toggle="dropdown" value="Call"></button>
	 </div>
           <p><label style="width: 100%;" align="center" id="txtCallStatus"><i></i></label>            
      <p><label style="width: 100%;" align="center" id="txtRegStatus"><i>Start</i></label>
	<input type="hidden" id="txtDisplayName" value="">
	<input type="hidden" id="txtPrivateIdentity" value="">
	<input type="hidden" id="txtPublicIdentity" value="">
	<input type="hidden" id="txtPassword" value="">
	<input type="hidden" id="txtRealm" value="">   
	<input type="hidden" id="txtOperID" value="">
	<input type="hidden" id="txtUserID" value="">
    <input type="hidden" id="txtFswIP" value="">

		 <!-- /container -->
    <!-- Glass Panel -->
    <div id="divGlassPanel" class="glass-panel" style="visibility:hidden"></div>
 
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="./sipML5 live demo_files/jquery.js"></script>
    

    <!-- Audios -->
    <audio id="audio_remote" autoplay="autoplay">
    	<audio id="ringtone" loop="" src="./sounds/ringtone.wav">
    		<audio id="ringbacktone" src="./sounds/connection.wav">
    			<audio id="dtmfTone" src="./sounds/dtmf.wav"></audio>
    		</audio>
    	</audio>
    </audio>
    
</body>
</html>